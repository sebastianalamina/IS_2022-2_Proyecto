generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model menu {
  idmenu        String      @unique @db.Char(18)
  idrestaurante String      @db.Char(18)
  idfranquicia  String      @db.Char(18)
  restaurante   restaurante @relation(fields: [idrestaurante, idfranquicia], references: [idrestaurante, idfranquicia], onDelete: Cascade, map: "fk_menu1")
  platillo      platillo[]

  @@id([idmenu, idrestaurante, idfranquicia], map: "pk_menu")
}

model administrador {
  idadmin             String                @id(map: "pk_admin") @db.Char(18)
  idrestaurante       String                @db.Char(18)
  nombre              String                @db.Char(100)
  apatermo            String?               @db.Char(100)
  amaterno            String?               @db.Char(100)
  correo              String                @db.VarChar(100)
  contrasena          String                @db.VarChar(100)
  restaurante         restaurante           @relation(fields: [idrestaurante], references: [idrestaurante], onDelete: Cascade, map: "fk_admin")
  cocinero            cocinero[]
  mesero              mesero[]
  registrorestaurante registrorestaurante[] @ignore
}

model cliente {
  idcliente      String           @id(map: "pk_cliente") @db.Char(18)
  nombre         String           @db.Char(100)
  apatermo       String?          @db.Char(100)
  amaterno       String?          @db.Char(100)
  correo         String           @db.VarChar(100)
  contrasena     String           @db.VarChar(100)
  estado         String?          @db.VarChar(100)
  calle          String?          @db.VarChar(100)
  numero         Int?
  cp             Int?
  municipio      String?          @db.VarChar(100)
  ordenescliente ordenescliente[] @ignore
}

model cocinero {
  idcocinero    String          @id(map: "pk_cocinero") @db.Char(18)
  idadmin       String          @db.Char(18)
  idrestaurante String          @db.Char(18)
  nombre        String          @db.Char(100)
  apatermo      String?         @db.Char(100)
  amaterno      String?         @db.Char(100)
  correo        String          @db.VarChar(100)
  contrasena    String          @db.VarChar(100)
  administrador administrador   @relation(fields: [idadmin], references: [idadmin], onDelete: Cascade, map: "fk_cocinero1")
  restaurante   restaurante     @relation(fields: [idrestaurante], references: [idrestaurante], onDelete: Cascade, map: "fk_cocinero2")
  prepararorden prepararorden[] @ignore
}

/// The underlying table does not contain a valid unique identifier and can therefore currently not be handled by the Prisma Client.
model contenidoorden {
  idordennormal String?      @db.Char(18)
  idordenenvio  String?      @db.Char(18)
  idplatillo    String?      @db.Char(18)
  ordenenvio    ordenenvio?  @relation(fields: [idordenenvio], references: [idordenenvio], onDelete: Cascade, map: "fk_contenido2")
  ordennormal   ordennormal? @relation(fields: [idordennormal], references: [idordennormal], onDelete: Cascade, map: "fk_contenido1")
  platillo      platillo?    @relation(fields: [idplatillo], references: [idplatillo], onDelete: Cascade, map: "fk_contenido3")

  @@ignore
}

/// The underlying table does not contain a valid unique identifier and can therefore currently not be handled by the Prisma Client.
model entregadomicilio {
  idrepartidor String     @db.Char(18)
  idordenenvio String     @db.Char(18)
  estado       String     @db.Char(18)
  ordenenvio   ordenenvio @relation(fields: [idordenenvio], references: [idordenenvio], onDelete: Cascade, map: "fk_or2")
  repartidor   repartidor @relation(fields: [idrepartidor], references: [idrepartidor], onDelete: Cascade, map: "fk_or1")

  @@ignore
}

/// The underlying table does not contain a valid unique identifier and can therefore currently not be handled by the Prisma Client.
model entregamesa {
  idmesero      String      @db.Char(18)
  idordennormal String      @db.Char(18)
  estado        String      @db.Char(18)
  mesero        mesero      @relation(fields: [idmesero], references: [idmesero], onDelete: Cascade, map: "fk_em1")
  ordennormal   ordennormal @relation(fields: [idordennormal], references: [idordennormal], onDelete: Cascade, map: "fk_em2")

  @@ignore
}

model franquicia {
  idfranquicia String        @id(map: "pk_franquicia") @db.Char(18)
  nombre       String        @db.VarChar(100)
  restaurante  restaurante[]
}

model mesero {
  idmesero      String        @id(map: "pk_mesero") @db.Char(18)
  idadmin       String        @db.Char(18)
  idrestaurante String        @db.Char(18)
  nombre        String        @db.Char(100)
  apatermo      String?       @db.Char(100)
  amaterno      String?       @db.Char(100)
  correo        String        @db.VarChar(100)
  contrasena    String        @db.VarChar(100)
  administrador administrador @relation(fields: [idadmin], references: [idadmin], onDelete: Cascade, map: "fk_mesero1")
  restaurante   restaurante   @relation(fields: [idrestaurante], references: [idrestaurante], onDelete: Cascade, map: "fk_mesero2")
  entregamesa   entregamesa[] @ignore
}

model ordenenvio {
  idordenenvio     String             @id(map: "pk_oe") @db.Char(18)
  costo            Int
  contenidoorden   contenidoorden[]   @ignore
  entregadomicilio entregadomicilio[] @ignore
  ordenescliente   ordenescliente[]   @ignore
  prepararorden    prepararorden[]    @ignore
}

/// The underlying table does not contain a valid unique identifier and can therefore currently not be handled by the Prisma Client.
model ordenescliente {
  idcliente     String       @db.Char(18)
  idordenenvio  String?      @db.Char(18)
  idordennormal String?      @db.Char(18)
  metodopago    String?      @db.Char(18)
  cliente       cliente      @relation(fields: [idcliente], references: [idcliente], onDelete: Cascade, map: "fk_oc1")
  ordenenvio    ordenenvio?  @relation(fields: [idordenenvio], references: [idordenenvio], onDelete: Cascade, map: "fk_oc2")
  ordennormal   ordennormal? @relation(fields: [idordennormal], references: [idordennormal], onDelete: Cascade, map: "fk_oc3")

  @@ignore
}

model ordennormal {
  idordennormal  String           @id(map: "pk_on") @db.Char(18)
  costo          Int
  contenidoorden contenidoorden[] @ignore
  entregamesa    entregamesa[]    @ignore
  ordenescliente ordenescliente[] @ignore
  prepararorden  prepararorden[]  @ignore
}

model platillo {
  idplatillo     String           @unique @db.Char(18)
  idmenu         String           @db.Char(18)
  idrestaurante  String           @db.Char(18)
  idfranquicia   String           @db.Char(18)
  nombre         String           @db.VarChar(100)
  costo          Int
  menu           menu             @relation(fields: [idmenu, idrestaurante, idfranquicia], references: [idmenu, idrestaurante, idfranquicia], onDelete: Cascade, map: "fk_paltillo1")
  contenidoorden contenidoorden[] @ignore

  @@id([idplatillo, idmenu, idrestaurante, idfranquicia], map: "pk_platillo")
}

/// The underlying table does not contain a valid unique identifier and can therefore currently not be handled by the Prisma Client.
model prepararorden {
  idcocinero    String       @db.Char(18)
  idordenenvio  String?      @db.Char(18)
  idordennormal String?      @db.Char(18)
  cocinero      cocinero     @relation(fields: [idcocinero], references: [idcocinero], onDelete: Cascade, map: "fk_po1")
  ordenenvio    ordenenvio?  @relation(fields: [idordenenvio], references: [idordenenvio], onDelete: Cascade, map: "fk_po2")
  ordennormal   ordennormal? @relation(fields: [idordennormal], references: [idordennormal], onDelete: Cascade, map: "fk_po3")

  @@ignore
}

/// The underlying table does not contain a valid unique identifier and can therefore currently not be handled by the Prisma Client.
model registrorestaurante {
  idadmin       String        @db.Char(18)
  idrestaurante String        @db.Char(18)
  fecha         DateTime      @db.Date
  administrador administrador @relation(fields: [idadmin], references: [idadmin], onDelete: Cascade, map: "fk_reg1")
  restaurante   restaurante   @relation(fields: [idrestaurante], references: [idrestaurante], onDelete: Cascade, map: "fk_reg2")

  @@ignore
}

model repartidor {
  idrepartidor     String             @id(map: "pk_repartidor") @db.Char(18)
  nombre           String             @db.Char(100)
  apatermo         String?            @db.Char(100)
  amaterno         String?            @db.Char(100)
  correo           String             @db.VarChar(100)
  contrasena       String             @db.VarChar(100)
  entregadomicilio entregadomicilio[] @ignore
}

model restaurante {
  idrestaurante       String                @unique @db.Char(18)
  idfranquicia        String                @db.Char(18)
  nombre              String?               @db.VarChar(100)
  estado              String?               @db.VarChar(100)
  calle               String?               @db.VarChar(100)
  numero              Int?
  cp                  Int?
  municipio           String?               @db.VarChar(100)
  franquicia          franquicia            @relation(fields: [idfranquicia], references: [idfranquicia], onDelete: NoAction, onUpdate: NoAction, map: "fk_restaurante")
  administrador       administrador[]
  cocinero            cocinero[]
  menu                menu[]
  mesero              mesero[]
  registrorestaurante registrorestaurante[] @ignore

  @@id([idfranquicia, idrestaurante], map: "pk_restaurante")
}
